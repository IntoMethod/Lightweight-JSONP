/*
 Lightweight JSONP fetcher
 Copyright 2010-2019 Erik Arenhill. All rights reserved.
 BSD Zero Clause License
*/
var JSONP=function(h){function l(c,d){function h(){"function"===typeof b&&(b({url:c,event:Error("Timeout")}),d())}var a=document.createElement("script"),k=!1;a.src=c;a.async=!0;var b=f.error;"function"===typeof b&&(a.onerror=function(a){clearTimeout(e);e=null;b({url:c,event:a})});a.onload=a.onreadystatechange=function(){k||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(k=!0,clearTimeout(e),e=null,a.onload=a.onreadystatechange=null,a&&a.parentNode&&a.parentNode.removeChild(a))};
f.timeout&&(e=setTimeout(h,f.timeout));g||(g=document.getElementsByTagName("head")[0]);g.appendChild(a)}var m=0,g,f={},e;return{get:function(c,d,e,a){var k=-1===(c||"").indexOf("?")?"?":"&",b;a=a||f.callbackName||"callback";f.callbackName||(a=a+"_jsonp_"+ ++m);d=d||{};for(b in d)d.hasOwnProperty(b)&&(k+=encodeURIComponent(b)+"="+encodeURIComponent(d[b])+"&");var g=!1;h[a]=function(b){g||e(b);try{delete h[a]}catch(n){}h[a]=null};l(c+k+"callback="+a,function(){g=!0});return a},init:function(c){f=c}}}(window);
"undefined"!==typeof module&&(module.exports=JSONP);
